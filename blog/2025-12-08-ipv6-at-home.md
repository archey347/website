---
title: IPv6 in the Homelab
author: Archey Barrell
published_at: 2025-12-08 21:39:00
tags: ["first-post", "ipv6"]
---

Thanks to the vastness of the IPv6 address space, every computer on your network 
can have multiple publicly routable IPv6 addresses, often referred to as Global 
Unicast Addresses (GUAs).

This is usually fine for the average home network, but it starts getting messy if 
you begin running a homelab.

If you want DNS records for self-hosted services, or you have site-to-site
VPNs, using just GUAs can get a bit awkward. If your ISP likes to mix up your v6 
prefix on a regular basis, you need some way of being able to update those DNS records
accordingly. 

Additionally, with site-to-site VPNs, using GUAs is only one bad/missing routing 
table entry away from your internal traffic being accidentally routed across the 
public internet.

In the IPv4 world, this wasn't really a problem, because you could just reuse the 
private IPv4 subnet you were already using internally.

Fortunately, [RFC 4193](https://tools.ietf.org/html/rfc4193) specifies Unique Local 
Addresses (ULAs), which are typically allocated as a unique `/48` from the `fd00::/8` space. 
These are not _expected to be_ globally routable on the public internet and can be used for stable 
internal addressing. Using a consistent ULA prefix means you could also add outbound 
firewall rules scoped to ULAs as an additional layer of security.

Importantly, you can use this subnet _alongside_ your Global Unicast Addresses, 
not replace them.

[Most routers](https://openwrt.org/docs/guide-user/network/ipv6/configuration#ula_prefix) 
allow you to configure an IPv6 ULA range in your home network, even those supplied by your 
ISP probably have it (from looking, it seems to exist on those supplied by BT and subsidiary ISPs).

Since I started building my homelab in 2024, I've opted not to use IPv4 at all for
any internal services and have been surprised with how few problems I've had:

1. Networks in Docker use IPv4 by default, [but this is easily changed](https://docs.docker.com/engine/daemon/ipv6/).
2. I bought a power monitor that only supported IPv4, but I've put it on its own
vlan anyway, so it hasn't been much of a problem.

Possibly I'll have more challenges if I start playing with k8s, but I'll cross that bridge when I come to it.

```
$ grep " AAAA " db.internal.j2 | wc -l
15

$ grep " A " db.internal.j2 | wc -l
0
```
_No A records here_

Is this the right way of doing things? I don't know. I've never done any formal 
training on IPv6, but it's what seems to work the best for my requirements.

Inb4 just use tailscale.
