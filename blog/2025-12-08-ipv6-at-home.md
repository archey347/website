---
title: My IPv6 only* homelab
author: Archey Barrell
published_at: 2025-12-08 21:39:00
tags: ["first post", "ipv6"]
---
When I was first allocating IP addresses for my home network, I was getting in quite
a mess. I wanted a private local area network, a public network for publicly hosting stuff, 
and additional subnets for running tunnels to various other places, such as my 
parents' house, so that devices on each of the private networks could access each other.

I needed networks for:

- accessing the internet
- serving stuff to the internet
- serving/accessing privately hosted stuff
- vpn links to devices/networks off-premises
  - these off-premises devices can access my privately hosted stuff
  
For my publicly hosted stuff, I was happy with it sitting in it's own vlan, with a 
publicly routable IPv4 and IPv6 subnets (thanks Andrews & Arnold for the /29 v4 block).

My problems arose with the private side. I started with just a single private v4 and a publicly 
addressed v6 network, and the difference in the two's routability means the configurations
have to be asymmetric, which is a pain to manage and reason about.

The IPv4 subnets were easy with them being private, but the v6 realm was more difficult.
Was I supposed to use my public prefix on the VPN and thus on the off-premise devices? 
How could I avoid private traffic accidentally being routed to the internet rather 
than down the VPN? I had a play around, but it just wasn't working out.

Whilst I was growing to accept the fact I needed another set of v4 and v6 addresses 
specifically for my privately hosted services, I came to the realisation that I could 
just use private IPv6 subnets.

*Obviously I still need a private IPv4 subnet and a publicly addressible v6 network 
to connect to the internet (and also for public services), but having all of my 
private services to be only accessible via IPv6 made sense, given it would simplify 
the configuration and remove the reliance on using the IPv6 prefix given by my ISP.

I just hoped that using only IPv6 wouldn't come to shoot me in the foot later down the line.

### What problems has this caused me?

Surprisingly, very little. 

The two main issues I've encountered have been:

1. Docker networks use IPv4 by default, [but it is something you can change](https://docs.docker.com/engine/daemon/ipv6/).
2. I bought a power monitor that only supported IPv4, but given that sits on it's 
own isolated network anyway, it's not really a big deal.

Possibly I'll have more problems with k8s, but I'll cross that bridge when I come to it.

### Conclusion

Is this the right way of doing things? I don't know. I've never done any formal 
training on IPv6, but I think it's the best for my requirements. 

Using a private IPv6 network like this means that if my public IPv6 prefix ever 
has to change, it'll certainly make transitioning a lot easier; I'll have less 
configs to change where I've lazily hard-coded address bindings.

The other nice thing about IPv6 is you can have fun with the 
hexadecimal characters. For example, my parent's house is in
south wales, so I couldn't resist setting their subnet identifier to `:baa:`.
